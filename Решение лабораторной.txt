Часть 1 - Создание базы данных:

Функция create_library_database()создает базу данных library.dbи таблицуbooks
В таблице используется INTEGER PRIMARY KEY AUTOINCREMENTидентификатор — это значит, что идентификатор будет автоматически отображаться.
TEXT NOT NULL- текст обязательный, не может быть пустым
TEXT UNIQUEдля ISBN — две книги не могут быть одинаковыми с ISBN
INTEGER DEFAULT 1в наличии - по умолчанию книга доступна
Использовал with sqlite3.connect()- это контекстный менеджер, он автоматически закрывает соединение

Часть 2 - Функции CRUD:

add_book()- вставить книгу через однуINSERT INTO
add_multiple_books()- добавить много книг через executemany()- это быстрее, чем по одной
show_all_books()- делает SELECT * FROM booksи выводит все записи
find_books_by_author()- использует WHERE author LIKEс %для частичного совпадения
find_books_by_year_range()- использование BETWEENдля поиска в деталях
borrow_book()- сначала позже существует ли книга через SELECT, потом позже доступность, и только потом делаюUPDATE
return_book()- противоположные, но доступные цифры = 1
delete_book()- DELETE FROMпосле использования проверок

Часть 3 - Статистика:

get_statistics()использует агрегатные функции:

COUNT(*)- количество записей
MIN(year)и MAX(year)- найдите создание и максимальный год


Все запросы к одной функции для повышения эффективности

Обработка ошибок:

Использовал try-exceptвезде
sqlite3.IntegrityErrorловит ошибку дублирования ISBN
Перед UPDATE и DELETE проверяю наличие записей через SELECT
Все плейсхолдеры через ?- это защита от SQL-инъекций

Часть 4 - Главная программа:

Простое меню с while Trueциклом
Приступаю к созданию базы и добавляю 7 книг русской классики.
Каждый пункт меню вызывает соответствующую функцию
input()для ввода данных от пользователя